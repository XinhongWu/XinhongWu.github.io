<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="记录个人技术笔记与生活日志"><title>Python 调试技巧 | 在路上</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css?v=2.0.3"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js?v=2.0.3"></script><script src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=2.0.3"></script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python 调试技巧</h1><a id="logo" href="/.">在路上</a><p class="description">修心养性，健体强身，终生学习！</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Python 调试技巧</h1><div class="post-meta"><a href="/2019/03/20/Python-调试技巧/#comments" class="comment-count"></a><p><span class="date">Mar 20, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h4 id="Python-调试技巧"><a href="#Python-调试技巧" class="headerlink" title="Python 调试技巧"></a>Python 调试技巧</h4><h5 id="1-pdb-单步跟踪"><a href="#1-pdb-单步跟踪" class="headerlink" title="1 pdb 单步跟踪"></a>1 pdb 单步跟踪</h5><p>类似Go/C语言的gdb，python也存在一个类似的单步调试器：pdb。</p>
<p>可以使用类似的用法，对Python程序进行调试。</p>
<p>启动pdb调试命令：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pdb file.py</span><br></pre></td></tr></table></figure>
<h5 id="2-python-函数原型"><a href="#2-python-函数原型" class="headerlink" title="2 python 函数原型"></a>2 python 函数原型</h5><p>C语言系统API，在Linux下，可以使用<code>man</code> 命令快速的查看函数的原型，例如：</p>
<p><code>man strcpy</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">STRCPY(<span class="number">3</span>)                                                                                                Linux Programmer'<span class="function">s Manual                                                                                               <span class="title">STRCPY</span><span class="params">(<span class="number">3</span>)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">NAME</span></span><br><span class="line">       strcpy, strncpy - copy a string</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       <span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">char</span> *<span class="title">strcpy</span><span class="params">(<span class="keyword">char</span> *dest, <span class="keyword">const</span> <span class="keyword">char</span> *src)</span></span>;</span><br><span class="line"></span><br><span class="line">       <span class="function"><span class="keyword">char</span> *<span class="title">strncpy</span><span class="params">(<span class="keyword">char</span> *dest, <span class="keyword">const</span> <span class="keyword">char</span> *src, <span class="keyword">size_t</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       The  strcpy()  function  copies  the  string pointed to by src, including the terminating null byte ('\0'), to the buffer pointed to by dest.  The strings may not overlap, and the destination string dest must be large enough to</span><br><span class="line">       receive the copy.  Beware of buffer overruns!  (See BUGS.)</span><br><span class="line"></span><br><span class="line">       The strncpy() function is similar, except that at most n bytes of src are copied.  Warning: If there is no null byte among the first n bytes of src, the string placed in dest will not be null-terminated.</span><br><span class="line"></span><br><span class="line">       If the length of src is less than n, <span class="built_in">strncpy</span>() writes additional null bytes to dest to ensure that a total of n bytes are written.</span><br><span class="line"></span><br><span class="line">       A simple implementation of strncpy() might be:</span><br><span class="line"></span><br><span class="line">           <span class="keyword">char</span> *</span><br><span class="line">           <span class="built_in">strncpy</span>(<span class="keyword">char</span> *dest, <span class="keyword">const</span> <span class="keyword">char</span> *src, <span class="keyword">size_t</span> n)</span><br><span class="line">           &#123;</span><br><span class="line">               <span class="keyword">size_t</span> i;</span><br><span class="line"></span><br><span class="line">               <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n &amp;&amp; src[i] != <span class="string">'\0'</span>; i++)</span><br><span class="line">                   dest[i] = src[i];</span><br><span class="line">               <span class="keyword">for</span> ( ; i &lt; n; i++)</span><br><span class="line">                   dest[i] = <span class="string">'\0'</span>;</span><br><span class="line"></span><br><span class="line">               <span class="keyword">return</span> dest;</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure>
<p>​    在Python语言系统中，使用：<code>pydoc</code></p>
<p>​    例如，想查看json的dumps接口原型，可以输入：<code>pydoc json.dumps</code></p>
<p>​    会有如下的提示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">	Help on function dumps <span class="keyword">in</span> json:</span><br><span class="line"></span><br><span class="line">json.dumps = dumps(obj, skipkeys=<span class="literal">False</span>, ensure_ascii=<span class="literal">True</span>, check_circular=<span class="literal">True</span>, allow_nan=<span class="literal">True</span>, cls=<span class="literal">None</span>, indent=<span class="literal">None</span>, separators=<span class="literal">None</span>, encoding=<span class="string">'utf-8'</span>, default=<span class="literal">None</span>, sort_keys=<span class="literal">False</span>, **kw)</span><br><span class="line">    Serialize ``obj`` to a JSON formatted ``str``.</span><br><span class="line">    </span><br><span class="line">    If ``skipkeys`` <span class="keyword">is</span> true then ``dict`` keys that are <span class="keyword">not</span> basic types</span><br><span class="line">    (``str``, ``unicode``, ``int``, ``long``, ``float``, ``bool``, ``<span class="literal">None</span>``)</span><br><span class="line">    will be skipped instead of raising a ``TypeError``.</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    If ``ensure_ascii`` <span class="keyword">is</span> false, all non-ASCII characters are <span class="keyword">not</span> escaped, <span class="keyword">and</span></span><br><span class="line">    the <span class="keyword">return</span> value may be a ``unicode`` instance. See ``dump`` <span class="keyword">for</span> details.</span><br><span class="line">    </span><br><span class="line">    If ``check_circular`` <span class="keyword">is</span> false, then the circular reference check</span><br><span class="line">    <span class="keyword">for</span> container types will be skipped <span class="keyword">and</span> a circular reference will</span><br><span class="line">    result <span class="keyword">in</span> an ``OverflowError`` (<span class="keyword">or</span> worse).</span><br><span class="line">    </span><br><span class="line">    If ``allow_nan`` <span class="keyword">is</span> false, then it will be a ``ValueError`` to</span><br><span class="line">    serialize out of range ``float`` values (``nan``, ``inf``, ``-inf``) <span class="keyword">in</span></span><br><span class="line">    strict compliance of the JSON specification, instead of using the</span><br><span class="line">    JavaScript equivalents (``NaN``, ``Infinity``, ``-Infinity``).</span><br><span class="line">    </span><br><span class="line">    If ``indent`` <span class="keyword">is</span> a non-negative integer, then JSON array elements <span class="keyword">and</span></span><br><span class="line">    object members will be pretty-printed <span class="keyword">with</span> that indent level. An indent</span><br><span class="line">    level of <span class="number">0</span> will only insert newlines. ``<span class="literal">None</span>`` <span class="keyword">is</span> the most compact</span><br><span class="line">    representation.  Since the default item separator <span class="keyword">is</span> ``<span class="string">', '</span>``,  the</span><br><span class="line">    output might include trailing whitespace when ``indent`` <span class="keyword">is</span> specified.</span><br><span class="line">    You can use ``separators=(<span class="string">','</span>, <span class="string">': '</span>)`` to avoid this.</span><br><span class="line">    </span><br><span class="line">    If ``separators`` <span class="keyword">is</span> an ``(item_separator, dict_separator)`` tuple</span><br><span class="line">    then it will be used instead of the default ``(<span class="string">', '</span>, <span class="string">': '</span>)`` separators.</span><br><span class="line">    ``(<span class="string">','</span>, <span class="string">':'</span>)`` <span class="keyword">is</span> the most compact JSON representation.</span><br><span class="line">    </span><br><span class="line">    ``encoding`` <span class="keyword">is</span> the character encoding <span class="keyword">for</span> str instances, default <span class="keyword">is</span> UTF<span class="number">-8.</span></span><br><span class="line">    </span><br><span class="line">    ``default(obj)`` <span class="keyword">is</span> a function that should <span class="keyword">return</span> a serializable version</span><br><span class="line">    of obj <span class="keyword">or</span> <span class="keyword">raise</span> TypeError. The default simply raises TypeError.</span><br><span class="line">    </span><br><span class="line">    If *sort_keys* <span class="keyword">is</span> true (default: ``<span class="literal">False</span>``), then the output of</span><br><span class="line">    dictionaries will be sorted by key.</span><br><span class="line">    </span><br><span class="line">    To use a custom ``JSONEncoder`` subclass (e.g. one that overrides the</span><br><span class="line">    ``.default()`` method to serialize additional types), specify it <span class="keyword">with</span></span><br><span class="line">    the ``cls`` kwarg; otherwise ``JSONEncoder`` <span class="keyword">is</span> used.</span><br></pre></td></tr></table></figure>
<h5 id="3-python-包查找库"><a href="#3-python-包查找库" class="headerlink" title="3 python 包查找库"></a>3 python 包查找库</h5><p>​    类似于Go语言的Godoc，Python也有类似的网站：<a href="https://pypi.org/" target="_blank" rel="noopener">https://pypi.org/</a></p>
<p>​    <img src="http://pogngdcwy.bkt.clouddn.com/1553059601588213uj3k1.png?imageslim" alt="paste image"></p>
<p>​    </p>
</div><div class="post-copyright"><blockquote><p>原文作者: Clark Wu</p><p>原文链接: <a href="http://yoursite.com/2019/03/20/Python-调试技巧/">http://yoursite.com/2019/03/20/Python-调试技巧/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/03/21/VSCode与Git联合使用方法/" class="pre">VSCode与Git联合使用方法</a><a href="/2019/03/19/Untitled/" class="next">Golang 抓包分析MySQL的数据传输过程</a></div><div id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC80MzIxNC8xOTc2MA=="></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Python-调试技巧"><span class="toc-text">Python 调试技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-pdb-单步跟踪"><span class="toc-text">1 pdb 单步跟踪</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-python-函数原型"><span class="toc-text">2 python 函数原型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-python-包查找库"><span class="toc-text">3 python 包查找库</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/03/25/TCP/">TCP、UDP、Port、Socket 温故知新</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/21/VSCode与Git联合使用方法/">VSCode与Git联合使用方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/20/Python-调试技巧/">Python 调试技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/19/Untitled/">Golang 抓包分析MySQL的数据传输过程</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/19/Golang-json-mysql-Data-Transfer/">Golang json && mysql Data Transfer</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/16/hello-world/">Qiniu Image Upload</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/16/test-my-site/">Hexo搭建个人博客站点のSpecil Tips</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Clark Wu.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script><script>(function(d, s) {
  var j, e = d.getElementsByTagName('body')[0];
  if (typeof LivereTower === 'function') { return; }
  j = d.createElement(s);
  j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
  j.async = true;
  e.appendChild(j);
})(document, 'script');
</script></body></html>